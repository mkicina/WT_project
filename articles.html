<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smartphones</title>
    <link rel="stylesheet" href="articles.css">
</head>
<body>
<header>
<h1>Smartfony roku 2019, najdes medzi nimi aj ten svoj?</h1>

<img src="maxresdefault2.jpg" alt="Smartphones" id="mainimg" >
</header>

<main>
<div id="table">
    <ul>
        <li>
            <article>
            <a href="article1.html">
            <h3>Huawei Nova 5T</h3>
        </a>

            <img class="tableimg" src="huawei.png" alt="Huawei-Nova-5T">
            </article>
            <p class="tableinfo">Tento smartfón bol predstavený už dávnejšie,
                teraz sa dostáva aj na slovenský trh. Hlavným lákadlom bude
                fotoaparát s piatimi objektívmi a bezrámikový displej s dierou
                v hornej ľavej časti </p>

            </li>



        <li>
            <article>
            <a href="article2.html">
            <h3>Honor 20</h3>
        </a>

            <img class="tableimg" src="honor20.png"  alt="Honor 20">
            </article>
            <p class="tableinfo">HONOR 20 je smartfónom, ktorý ponúka nielen
                najnovšiu verziu operačného systému Android, elegantný vzhľad,
                poriadnu dávku výkonu, ale aj fotoaparát, ktorý si doslova
                zamilujete okamžite, ako ho začnete používať a platí nielen
                počas dňa, ale aj v noci.</p>

        </li>



        <li>
            <article>
            <a href="article3.html">
            <h3>iPhone 11</h3>
        </a>

            <img class="tableimg" src="iphone11.png"  alt="iPhone 11">
            </article>
            <p class="tableinfo">iPhone 11 Pro Max v nás zanechal veľmi dobré dojmy.
                Po predstavení sa hovorilo, že nič revolučné neprináša, čo je síce
                pravda, ale keď ho chytíte do ruky a začnete s ním pracovať, tak
                okamžite pochopíte, že toto je niečo nové – niečo, čo dokáže reálne
                zaujať. Precízne spracovanie, oceľový rám, matné zadné sklo, ktoré
                nezachytáva žiadne odtlačky, trojica perfektných fotoaparátov
                (+ predná kamera) a vpredu výborný OLED displej. </p>


        </li>


    </ul>
</div>
</main>

<footer>
<div id="info">
    <p class="info">Datum vytvorenia: 27. februar 2020, 14:41</p>
    <p class="info">Autor clanku:
       Martin Kicina</p>
    <p class="info">email: kicina.martin@gmail.com</p>
    <a href="mailto:kicina.martin@gmail.com?subject=Feedback&body=Reakcia_na_vas_blog">
    <div class="email">
    </div>
    </a>
</div>
    <div id="form">
    <p id="formIntro">
        Ak máš záujem tak prosím vyjadri svoj názor ohľadom tejto stránky
    </p>


    <form id="opnFrm">

        <label for="nameElm">Tvoje meno:</label>

        <input type="text" name="login" id="nameElm" size="20"
               maxlength="50" placeholder="Zadaj svoje meno" required/>

        <br><br>

        <label for="emailElm">Tvoj email:</label>

        <input type="email" id="emailElm" size="20"
               maxlength="50" placeholder="Zadaj svoj email" required/>

        <br><br>

        <label for="urlElm">Link obrázka:</label>

        <input type="url" id="urlElm" size="20"
               maxlength="50" placeholder="Zadaj link na obrázok"/>

        <br><br>

        <p>Koľko máš rokov?</p>
        <input type="radio" id="young" name="age" value="<20">
        <label for="young">Do 20 rokov</label><br>
        <input type="radio" id="middle" name="age" value="20-40">
        <label for="middle">20-40</label><br>
        <input type="radio" id="old" name="age" value=">40">
        <label for="old">Nad 40 rokov</label>

        <br><br>

        <p>Ktorý mobil by si si z nasledujúcih kúpil?</p>
        <input type="checkbox" id="phone1" name="phone1" value="Huawei">
        <label for="phone1">Huawei Nova 5T</label><br>
        <input type="checkbox" id="phone2" name="phone2" value="Honor">
        <label for="phone2">Honor 20</label><br>
        <input type="checkbox" id="phone3" name="phone3" value="iPhone">
        <label for="phone3"> iPhone11</label>

        <br><br>

        <label for="whyElm">Prečo by si si ho kúpil?</label>
        <input type="text" name="reason" id="whyElm" size="20"
               maxlength="30" lang="sk" list="reasons"/>

        <datalist id="reasons">
            <option>Výkon</option>
            <option>Cena</option>
            <option>Vzhľad</option>
            <option>Fotoaparát</option>
        </datalist>


        <br><br>

        <label for="opnElm">Tvoj názor:</label>


        <textarea name="comment" id="opnElm" cols="50" rows="3"
                  placeholder="Tu vyjadri svoj názor" required></textarea>

        <br><br>

        <button type="submit">Odoslať</button>
        <button type="reset">Vymazať</button>
    </form>
    </div>
</footer>

<script>
    //data and localStorage handling at startup
    let opinions=[];

    if(localStorage.myTreesComments){
        opinions=JSON.parse(localStorage.myTreesComments);
    }

    console.log(opinions);

    //--------------------------------------------------------------------------------------------------------------
    //Form processing functionality

    /*
    * Note:
    * For the sake of simplicity, here we use window.alert to display messages to the user
    * However, if possible, avoid them in the production versions of your web applications
    *
    */

    let myFrmElm=document.getElementById("opnFrm");

    myFrmElm.addEventListener
    ("submit",processOpnFrmData);

    function processOpnFrmData(event){
        //1.prevent normal event (form sending) processing
        event.preventDefault();

        //2. Read and adjust data from the form (here we remove white spaces before and after the strings)
        const nopName = document.getElementById("nameElm").value.trim();
        const nopEmail = document.getElementById("emailElm").value.trim();
        const nopUrl = document.getElementById("urlElm").value.trim();

        const nopAgeYoung = document.getElementById("young");
        const nopAgeMiddle = document.getElementById("middle");
        const nopAgeOld = document.getElementById("old");

        const nopHuawei = document.getElementById("phone1");
        const nopHonor = document.getElementById("phone2");
        const nopIPhone = document.getElementById("phone3");

        const nopReason = document.getElementById("reasons");

        const nopOpn = document.getElementById("opnElm").value.trim();


        //3. Verify the data
        if(nopName=="" || nopOpn=="" || nopEmail==""){
            window.alert("Please, enter both your name and opinion");
            return;
        }

        var huaweiState=false;
        var honorState=false;
        var iphoneState=false;
        var ageState;

        if (nopAgeYoung.checked){
             ageState=nopAgeYoung;
        }else if (nopAgeMiddle.checked){
             ageState=nopAgeMiddle;
        }else if (nopAgeOld.checked){
             ageState=nopAgeOld;
        }

        if (nopHuawei.checked){
            huaweiState=true;
        }
        if (nopHonor.checked){
            honorState=true;
        }
        if (nopIPhone.checked){
            iphoneState=true;
        }

        //3. Add the data to the array opinions and local storage
        const newOpinion =
            {
                name: nopName,
                email: nopEmail,
                url: nopUrl,
                age: ageState,
                huawei: huaweiState,
                honor: honorState,
                iphone: iphoneState,
                reason: nopReason,
                comment: nopOpn,
                created: new Date()
            };


        console.log("New opinion:\n "+JSON.stringify(newOpinion));

        opinions.push(newOpinion);

        localStorage.myTreesComments = JSON.stringify(opinions);


        //4. Notify the user
        window.alert("Your opinion has been stored. Look to the console");
        console.log("New opinion added");
        console.log(opinions);

        //5. Reset the form
        myFrmElm.reset(); //resets the form
    }

</script>

</body>
</html>